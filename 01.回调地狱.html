<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>如何优雅解决回调地狱</title>
</head>
<body>

<script>


    //1.首先看一下,如果我们常遇到的异步代码
    //如果有个需要,需要在1秒后打印出一段文字,哪么我们会怎么做呢?应该大家都会想到使用定时器




    // setTimeout ( function () {
    //     console.log ( "我是第1个定时器" );
    // }, 1000 );

    //这样做是没有问题,打印出来,"我是第1个定时器"





    /**********************************************************************************************************/









    // 2.现在来一个需求,需要在打印出来"我是第1个定时器"后,1秒后再打印"我是第2个定时器",哪么我们应该怎么呢?

    //这样写行吗?
    // setTimeout ( function () {
    //     console.log ( "我是第1个定时器" );
    //
    // }, 1000 );
    // setTimeout ( function () {
    //     console.log ( "我是第2个定时器" );
    //
    // }, 1000 );

    //同时打印的,不行


    //因为定时器是异步代码,之间并排写,是不行的,哪么我们怎么做才能让他们同步执行呢,聪明的你们应该想到了,嵌套呗
    //在里面搞个定时器就可以了

    // setTimeout ( function () {
    //     console.log ( "我是第1个定时器" );
    //     setTimeout ( function () {
    //         console.log ( "我是第2个定时器" );
    //
    //     }, 1000 );
    // }, 1000 );

    //事实证明这样也没有问题,打印出来,"我是第1个定时器","我是第2个定时器"





    /**********************************************************************************************************/







    // 3.问题是现在又来一个需求,需要在打印出来"我是第1个定时器"和"我是第2个定时器"后,
    // 1秒后,再打印"我是第3个定时器",哪么我们应该怎么呢?
    //还是同理嘛,再在里面搞个定时器就可以了

    // setTimeout ( function () {
    //     console.log ( "我是第1个定时器" );
    //     setTimeout ( function () {
    //         console.log ( "我是第2个定时器" );
    //         setTimeout ( function () {
    //             console.log ( "我是第3个定时器" );
    //
    //         }, 1000 );
    //     }, 1000 );
    // }, 1000 );


    //事实证明这样也没有问题





    /**********************************************************************************************************/











    // 4.不巧现在又来一个需求,需要在执行9个定时后,
    // 1秒后,再打印"我是第10个定时器",哪么我们应该怎么呢?
    //还是同理嘛,再在里面多搞几个定时器就可以了
    //但是代码会变成什么样子呢?????





    /**********************************************************************************************************/










    // setTimeout ( function () {
    //     console.log ( "第1个定时器" );
    //     setTimeout ( function () {
    //         console.log ( "第2个定时器" );
    //         setTimeout ( function () {
    //             console.log ( "第3个定时器" );
    //             setTimeout ( function () {
    //                 console.log ( "第4个定时器" );
    //                 setTimeout ( function () {
    //                     console.log ( "第5个定时器" );
    //                     setTimeout ( function () {
    //                         console.log ( "第6个定时器" );
    //                         setTimeout ( function () {
    //                             console.log ( "第7个定时器" );
    //                             setTimeout ( function () {
    //                                 console.log ( "第8个定时器" );
    //                                 setTimeout ( function () {
    //                                     console.log ( "第9个定时器" );
    //                                     setTimeout ( function () {
    //                                         console.log ( "第10个定时器" );
    //
    //                                     }, 1000 );
    //                                 }, 1000 );
    //                             }, 1000 );
    //                         }, 1000 );
    //                     }, 1000 );
    //                 }, 1000 );
    //             }, 1000 );
    //         }, 1000 );
    //     }, 1000 );
    // }, 1000 );




    //这样嵌套是可以实现我们的需求的,但是感觉是不是很不优雅呢?
    //我们在每层嵌套里面只写了少量代码,但是经过多层嵌套之后就变成了类似尖角号的样子
    //这样处理的回调,这就是”回调地狱“也叫做”回调金字塔“
    //我们平时写代码的时候,js代码如果是异步,回调就是不可避免的
    //大家想一下,如果我们再每层里面写大量的代码,代码会不会特别乱呢
    //对于强迫症的童鞋们来说就是一个煎熬


</script>

<!-- 看下回调地狱形象图 -->
<!--<img src="img/callbackHell.jpg" alt="">-->

</body>
</html>